motorbikes=   [
    {
      "modelo": "MT-07",
      "marca": "Yamaha",
      "precio": 7500,
      "cilindrada": 689,
      "vendedor": "Yamaha Dealer",
      "foto": "https://motoriwata.com/wp-content/uploads/2022/09/Yamaha-MT07-EU-Cyan_Storm.jpg"
    },
    {
      "modelo": "Z650",
      "marca": "Kawasaki",
      "precio": 7200,
      "cilindrada": 649,
      "vendedor": "Kawasaki Dealer",
      "foto": "https://storage.kawasaki.eu/public/kawasaki.eu/en-EU/model/21MY_Z650__BK4_STU.png"
    },
    {
      "modelo": "Scrambler Icon",
      "marca": "Ducati",
      "precio": 9500,
      "cilindrada": 803,
      "vendedor": "Ducati Dealer",
      "foto": "https://motos-b60.kxcdn.com/sites/default/files/ducati-scrambler-icon-2019.jpg"
    },
    {
      "modelo": "Bonneville T100",
      "marca": "Triumph",
      "precio": 12000,
      "cilindrada": 900,
      "vendedor": "Triumph Dealer",
      "foto": "https://www.hiperbikes.com.mx/wp-content/uploads/2021/06/TRIUMPH-BONEVILLE-T100-JET-BLACK.jpg"
    },
    {
      "modelo": "Ninja 400",
      "marca": "Kawasaki",
      "precio": 5500,
      "cilindrada": 399,
      "vendedor": "Kawasaki Dealer",
      "foto": "https://storage.kawasaki.eu/public/kawasaki.eu/en-EU/model/23MY_Ninja_400_GN1_STU__2_.png"
    },
    {
      "modelo": "CBR600RR",
      "marca": "Honda",
      "precio": 11500,
      "cilindrada": 599,
      "vendedor": "Honda Store",
      "foto": "https://motos0km.com.ar/models/honda-cbr-600-rr-gallery-ff0000-020180507195909.jpg"
    },
    {
      "modelo": "R1",
      "marca": "Yamaha",
      "precio": 17500,
      "cilindrada": 998,
      "vendedor": "Yamaha Dealer",
      "foto": "https://cdn2.yamaha-motor.eu/prod/product-assets/2024/YZF1000R1/2024-Yamaha-YZF1000R1-EU-Icon_Blue-360-Degrees-001-03.jpg"
    },
    {
      "modelo": "Monster 821",
      "marca": "Ducati",
      "precio": 11000,
      "cilindrada": 821,
      "vendedor": "Ducati Dealer",
      "foto": "https://www.momoven.es/admin/multimedia/crop_Monster-821-MY18-Red-01-Model-Preview-1050x650.png"
    },
    {
      "modelo": "Street Triple",
      "marca": "Triumph",
      "precio": 12000,
      "cilindrada": 765,
      "vendedor": "Triumph Store",
      "foto": "https://media.triumphmotorcycles.co.uk/image/upload/f_auto/q_auto/sitecoremedialibrary/media-library/images/configurator/roadsters/street%20triple/my16_streettriple_nwms_rhs.png?w=825"
    },
    {
      "modelo": "G310R",
      "marca": "BMW",
      "precio": 5000,
      "cilindrada": 313,
      "vendedor": "BMW Dealer",
      "foto": "https://images.simplr.io/service-option/simplr_service-option_1083854_66AC4B9F3545817D5E1C692404C77D0D_840.jpg"
    },
    {
      "modelo": "Hayabusa",
      "marca": "Suzuki",
      "precio": 18000,
      "cilindrada": 1340,
      "vendedor": "Suzuki Dealer",
      "foto": "https://www.suzukicenter.net/wp-content/uploads/2021/02/GSX1300RRQM2_B5M_right_single_seat_cowl.jpg"
    },
    {
      "modelo": "Panigale V2",
      "marca": "Ducati",
      "precio": 16000,
      "cilindrada": 955,
      "vendedor": "Ducati Store",
      "foto": "https://images.ctfassets.net/x7j9qwvpvr5s/6Vy7PTvkJpSb4eQBJTDsvi/ad005023bb347bf0e6003da5797aa9fd/PV2-Rd-MY22-Model-Preview-1050x650-v06.png"
    },
    {
      "modelo": "MT-09",
      "marca": "Yamaha",
      "precio": 9000,
      "cilindrada": 847,
      "vendedor": "Yamaha Dealer",
      "foto": "https://motoriwata.com/wp-content/uploads/2021/02/MT-09-Cyan-Storm.jpg"
    },
    {
      "modelo": "GSX-R1000",
      "marca": "Suzuki",
      "precio": 15000,
      "cilindrada": 999,
      "vendedor": "Suzuki Dealer",
      "foto": "https://www.motofichas.com/images/phocagallery/Suzuki/gsx-r1000r-2019/01-suzuki-gsx-r1000r-2019-estudio-azul.jpg"
    },
    {
      "modelo": "Africa Twin",
      "marca": "Honda",
      "precio": 14000,
      "cilindrada": 1084,
      "vendedor": "Honda Adventure",
      "foto": "https://www.super-hobby.es/zdjecia/9/5/9/20382_rd.jpg"
    },
    {
      "modelo": "Thruxton RS",
      "marca": "Triumph",
      "precio": 16000,
      "cilindrada": 1200,
      "vendedor": "Triumph Dealer",
      "foto": "https://www.motofichas.com/images/phocagallery/triumph/thruxton-rs-2024/01-triumph-thruxton-rs-2024-estudio-negro-plata-01.jpg"
    },
    {
      "modelo": "Diavel 1260",
      "marca": "Ducati",
      "precio": 20000,
      "cilindrada": 1262,
      "vendedor": "Ducati Dealer",
      "foto": "https://i0.wp.com/www.dailymotos.com/wp-content/uploads/2020/09/Ducati-Diavel-1260S-2020-26.png?fit=1024%2C634&ssl=1"
    },
    {
      "modelo": "Speed Triple",
      "marca": "Triumph",
      "precio": 17000,
      "cilindrada": 1050,
      "vendedor": "Triumph Dealer",
      "foto": "https://www.motofichas.com/images/phocagallery/triumph/speed-triple-1200-rs-2024/01-triumph-speed-triple-1200-rs-2024-estudio-rojo-01.jpg"
    },
    {
      "modelo": "CB650R",
      "marca": "Honda",
      "precio": 9000,
      "cilindrada": 649,
      "vendedor": "Honda Store",
      "foto": "https://viktormotosport.hr/wp-content/uploads/2018/12/honda-cb650r-green-1.jpg"
    },
    {
      "modelo": "F900R",
      "marca": "BMW",
      "precio": 10000,
      "cilindrada": 895,
      "vendedor": "BMW Dealer",
      "foto": "https://soymotero.net/wp-content/uploads/2021/07/bmw_f_900_r_light_white-racing_blue_met.-racing_red1.jpg"
    },
    {
      "modelo": "V-Strom 650",
      "marca": "Suzuki",
      "precio": 8500,
      "cilindrada": 645,
      "vendedor": "Suzuki Dealer",
      "foto": "https://motos-b60.kxcdn.com/sites/default/files/suzuki-dl650-xt-vstrom-2022.jpg"
    },
    {
      "modelo": "SuperSport 950",
      "marca": "Ducati",
      "precio": 14000,
      "cilindrada": 937,
      "vendedor": "Ducati Dealer",
      "foto": "https://images.ctfassets.net/x7j9qwvpvr5s/1DAKeL8BIz913AH0lIPZAH/fe5edb84b6b34b2130e18cfd96a9d0a7/Supersport-950-S-DS-MY23-Model-Preview-1050x650.png"
    },
    {
      "modelo": "Tracer 900",
      "marca": "Yamaha",
      "precio": 10500,
      "cilindrada": 847,
      "vendedor": "Yamaha Dealer",
      "foto": "https://motoriwata.com/wp-content/uploads/2021/02/Yamaha-TRACER-9-GT-Blanco.jpg"
    },
    {
      "modelo": "GS Adventure",
      "marca": "BMW",
      "precio": 18000,
      "cilindrada": 1254,
      "vendedor": "BMW Store",
      "foto": "https://mediapool.bmwgroup.com/cache/P9/202009/P90401154/P90401154-studio-takes-of-the-new-bmw-r-1250-gs-adventure-style-icegrey-uni-10-2020-600px.jpg"
    },
    {
      "modelo": "Versys 650",
      "marca": "Kawasaki",
      "precio": 8500,
      "cilindrada": 649,
      "vendedor": "Kawasaki Dealer",
      "foto": "https://storage.kawasaki.eu/public/kawasaki.eu/en-EU/model/22MY_Versys%20650_GN1_STU%20(1).001.png"
    },
    {
      "modelo": "SV650",
      "marca": "Suzuki",
      "precio": 7000,
      "cilindrada": 645,
      "vendedor": "Suzuki Store",
      "foto": "https://moto.suzuki.es/storage/images/s5vpsv4buh0p7drprwtwlpotabx450bku2cziydk.jpg"
    },
    {
      "modelo": "Tiger 900",
      "marca": "Triumph",
      "precio": 13500,
      "cilindrada": 888,
      "vendedor": "Triumph Dealer",
      "foto": "https://media.triumphmotorcycles.co.uk/image/upload/f_auto/q_auto/sitecoremedialibrary/media-library/images/motorcycles/adventure-touring/tiger%20900%20update/tiger%20900%20rally%20aragon%20variant%20page/bikes-tiger-900-aragon-variant-sc-1-1410x793.jpg"
    },
    {
      "modelo": "CBR500R",
      "marca": "Honda",
      "precio": 7000,
      "cilindrada": 471,
      "vendedor": "Honda Dealer",
      "foto": "https://listing-images.motoscout24.ch/273/11570273/647068529.jpg?w=1920&q=90"
    },
    {
      "modelo": "XSR700",
      "marca": "Yamaha",
      "precio": 8500,
      "cilindrada": 689,
      "vendedor": "Yamaha Store",
      "foto": "https://ortegasgarage.com/wp-content/uploads/2023/01/2024-Yamaha-XS700-EU-Historic_White-360-Degrees-001-03.jpg"
    },
    {
      "modelo": "Bonneville Bobber",
      "marca": "Triumph",
      "precio": 13000,
      "cilindrada": 1200,
      "vendedor": "Triumph Dealer",
      "foto": "https://media.triumphmotorcycles.co.uk/image/upload/q_auto/sitecoremedialibrary/media-library/images/motorcycles/modern-classics/my21/dx4%20bonneville%20bobber/base%20images/jet%20black/bonneville-bobber-jet-black-rhs-629.png"
    },
    {
      "modelo": "Ninja ZX-6R - Telefónica",
      "marca": "Kawasaki",
      "precio": 11500,
      "cilindrada": 636,
      "vendedor": "Kawasaki Dealer",
      "foto": "https://storage.kawasaki.eu/public/kawasaki.eu/en-EU/model/24MY_Ninja_ZX-6R_40th_Anniversary_Edition_GN2_STU__1_.jpg"
    },
    {
      "modelo": "RC 390",
      "marca": "KTM",
      "precio": 5500,
      "cilindrada": 373,
      "vendedor": "KTM Dealer",
      "foto": "https://masktm.es/wp-content/uploads/2022/11/PHO_BIKE_PERS_REVO_RC390-ORANGE-MY23-Front-Right-MY23-Studio_SALL_AEPI_V1.png"
    },
    {
      "modelo": "R NineT",
      "marca": "BMW",
      "precio": 15000,
      "cilindrada": 1170,
      "vendedor": "BMW Dealer",
      "foto": "https://storage.edidomus.it/dueruote/nuovo/850/00061595.JPG"
    },
    {
      "modelo": "Himalayan",
      "marca": "Royal Enfield",
      "precio": 5000,
      "cilindrada": 411,
      "vendedor": "Royal Enfield Dealer",
      "foto": "https://www.royalenfield.com/content/dam/royal-enfield/motorcycles/himalayan/colors/studio-shots/webp/hanle-black/hanle-black-000.webp"
    },
    {
      "modelo": "S 1000 RR",
      "marca": "BMW",
      "precio": 19000,
      "cilindrada": 999,
      "vendedor": "BMW Store",
      "foto": "https://s3-us-west-2.amazonaws.com/my-car-mexico/modelos/d5cd51a8/BMW-S-RR-3.webp"
    },
    {
      "modelo": "Interceptor 650",
      "marca": "Royal Enfield",
      "precio": 6000,
      "cilindrada": 648,
      "vendedor": "Royal Enfield Dealer",
      "foto": "https://www.royalenfield.com/content/dam/royal-enfield/thailand/motorcycles/interceptor/colours/studio-shots/new/ventura-blue/side-view.png"
    },
    {
      "modelo": "Vitpilen 701",
      "marca": "Husqvarna",
      "precio": 12000,
      "cilindrada": 692,
      "vendedor": "Husqvarna Dealer",
      "foto": "https://elmotero.lightformconcept.net/wp-content/uploads/2018/12/42268_Vitpilen-701-2018.jpg"
    },
    {
      "modelo": "Rebel 500",
      "marca": "Honda",
      "precio": 6500,
      "cilindrada": 471,
      "vendedor": "Honda Dealer",
      "foto": "https://silesmotos.com/img/cms/Motos/HONDA/500-cmx-2023/c4%20(2).png"
    },
    {
      "modelo": "Scout Sixty",
      "marca": "Indian",
      "precio": 9500,
      "cilindrada": 999,
      "vendedor": "Indian Dealer",
      "foto": "https://www.indianmotorcycle.es/fileadmin/templates/model_24/swap/intl/scout-1250/scout-classic-black.jpg"
    },
    {
      "modelo": "Dragster 800",
      "marca": "MV Agusta",
      "precio": 18000,
      "cilindrada": 798,
      "vendedor": "MV Agusta Dealer",
      "foto": "https://www.mvagusta.com/media/cc12ad5d-a4a8-489d-91c1-ccdc58b325bb/conversions/main-m.png"
    },
    {
      "modelo": "Ténéré 700",
      "marca": "Yamaha",
      "precio": 10000,
      "cilindrada": 689,
      "vendedor": "Yamaha Dealer",
      "foto": "https://bcnmotorbikes.com/wp-content/uploads/2023/06/2023-Yamaha-XTZ700-EU-Icon_Blue-360-Degrees-001-03.jpg"
    },
    {
      "modelo": "CB300R",
      "marca": "Honda",
      "precio": 4800,
      "cilindrada": 286,
      "vendedor": "Honda Dealer",
      "foto": "https://www.hondamotovalencia.es/wp-content/uploads/2018/12/honda-cb300r-roja.jpg"
    },
    {
      "modelo": "Road Glide",
      "marca": "Harley-Davidson",
      "precio": 21000,
      "cilindrada": 1746,
      "vendedor": "Harley Dealer",
      "foto": "https://d2bywgumb0o70j.cloudfront.net/2022/01/27/5e3c490d2e9aad67191a9e307a9e70d3_bd331846ca77fda0.jpg"
    },
    {
      "modelo": "Z900RS",
      "marca": "Kawasaki",
      "precio": 11500,
      "cilindrada": 948,
      "vendedor": "Kawasaki Dealer",
      "foto": "https://mpracing.es/196805-medium_default/kawasaki-z-900-rs-2024.jpg"
    },
    {
      "modelo": "Duke 790",
      "marca": "KTM",
      "precio": 9500,
      "cilindrada": 799,
      "vendedor": "KTM Dealer",
      "foto": "https://s7g10.scene7.com/is/image/ktm/2023%20KTM%20790%20DUKE%20-1?wid=1000&dpr=off"
    },
    {
      "modelo": "G 310 GS",
      "marca": "BMW",
      "precio": 5700,
      "cilindrada": 313,
      "vendedor": "BMW Dealer",
      "foto": "https://soymotero.net/wp-content/uploads/2021/03/bmw_g_310_gs_01.jpg"
    }
  ]

let filtros= [{
    "Marcas": [
        'Kawasaki',
        'Honda',
        'Suzuki',
        'Ducati'
    ]},{
    "Precios": [
        '1000-2500',
        '2500-5000',
        '5000-8000',
        '8000+'
    ]},{

    "Cilindradas": [
        '125cc',
        '250cc',
        '400cc',
        '600cc',
        '600cc+'
    ]},{

    "Carné": [
        'A1',
        'A2',
        'A',
    ]},
]



//CREAMOS PANEL DE FILTROS ACORDE A LA INFO EN EL ARRAY FILTERS
filters= document.querySelector('.filters')
let buttons=[]
for(filtro of filtros){
    h1= document.createElement('h1')
    h1.className='fttitle'
    h1.innerText= (Object.keys(filtro))
    ul= document.createElement('ul')
    ul.className='filtersul'
    div= document.createElement('div')
    div.className='category'
    div.appendChild(h1) 
    div.appendChild(ul)
    filters.appendChild(div)
    for (value of (Object.values(filtro))){
        console.log(value)
    for (val of value){
        console.log(val)
        div=document.createElement('div')
        button=document.createElement('img')
        button.src= "assets/round.png"
        button.className='icon'
        button.id=(val)
        buttons.push(button)
        li= document.createElement('li')
        li.innerText= val
        ul.appendChild(div)
        div.appendChild(button)
        div.appendChild(li)
        }
 
    }
}



let activefilters=[]


const printElements = ()=>{
    shoplist= document.querySelector('.shoplist')
    shoplist.innerHTML= ""

    const drawBox =(moto)=>{
            maindiv= document.createElement('div')
            maindiv.className='maindiv'
            titlediv= document.createElement('div')
            titlediv.className='titlediv'

            mdiv= document.createElement('div')
            mdiv.className='mbdiv'
            
            footerdiv=document.createElement('div')
            footerdiv.className='footerbdiv'

            h1= document.createElement('h1')
            h1.innerText= moto.modelo

            img=document.createElement('img')
            img.src= moto.foto

            precio = document.createElement('h3')
            precio.className='price'
            precio.innerText = ('Precio : '+((moto.precio)+' €'))

            marca= document.createElement('p')
            marca.innerText= moto.marca
            marca.className='tag'

            titlediv.appendChild(h1)
            titlediv.appendChild(marca)

            mdiv.appendChild(img)

            footerdiv.appendChild(precio)

            maindiv.appendChild(titlediv)
            maindiv.appendChild(mdiv)
            maindiv.appendChild(footerdiv)
            shoplist.appendChild(maindiv)
    }

    filters=activefilters

    if(filters == ""){
        for (moto of motorbikes){
            drawBox(moto)
        }
    }

    for (moto of motorbikes){
        conditions= (filters.length)
        let count=0
        for (filter of filters){
                if ((moto.marca).includes(filter)){
                    count++
                }
                if(filter === "A"){
                    count++
                }
                if(filter === "A2"){
                    if(moto.cilindrada < 700){
                        count++
                    }
                }
                if(filter === "A1"){
                    if(moto.cilindrada < 130){
                        count++ 
                    }
                }
                if(filter === "1000-2500"){
                    if(moto.precio < 2500){
                        count++ 
                    } 
                }
                if(filter === "2500-5000"){
                    if((moto.precio > 2500) && (moto.precio < 5000)){
                        count++ 
                    } 
                }
                if(filter === "5000-8000"){
                    if((moto.precio > 5000) && (moto.precio < 8000)){
                        count++ 
                    } 
                }
                if(filter === "8000+"){
                    if(moto.precio > 8000){
                        count++ 
                    } 
                }

                if(filter === '125cc'){
                    if(moto.cilindrada < 130){
                        count++ 
                    }   
                }

                if(filter === '250cc'){
                    if((moto.cilindrada >= 130) && (moto.cilindrada < 255)){
                        count++ 
                    }   
                }

                if(filter === '400cc'){
                    if((moto.cilindrada >= 250) && (moto.cilindrada < 400)){
                        count++ 
                    }   
                }

                if(filter === '600cc'){
                    if((moto.cilindrada > 400) && (moto.cilindrada < 600)){
                        count++ 
                    }   
                }

                if(filter === '600cc+'){
                    if((moto.cilindrada > 600)){
                        count++ 
                    }   
                }

                if(count == conditions){
                    drawBox(moto) 
                }
            }
              
         }
     }       


  
 
   

printElements()


//AISLO LAS KEYS DE MOTORBIKES PARA FILTRAR POR PARAMETRO
parametros=(Object.keys(motorbikes[0]))

//AÑADIMOS EVENT LISTENER A LOS BOTONES

const clean = (button)=>{
    names=[]
    for (child of (((button.parentNode).parentNode).childNodes)){
        for (filter of activefilters){
            if(filter ===(((child.childNodes)[0]).id)){
                console.log(filter)
                activefilters.splice((activefilters.indexOf(filter)),1)
            }
        } 
    }
}


buttons.forEach((button)=> {
    button.addEventListener('click', ()=>{
        if((button.src).includes("assets/round.png")){

            //DESMARCAR LOS DEMÁS BOTONES, MISMA CATEGORIA
            for (div of (((button.parentNode).parentNode).childNodes)){
                ((div.childNodes)[0]).src="assets/round.png"
            }

            //MARCAR ESTE EN CONCRETO
            button.src = "assets/check.png"

            clean(button)
            activefilters.push(button.id)

            console.log(activefilters)
      
            printElements()


        } else { 

            //O VOLVER A DESMARCAR ESTE EN CONCRETO
            button.src = "assets/round.png"
            clean(button)

            console.log(activefilters)
            printElements()
        }
    });
    })





